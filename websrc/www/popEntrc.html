<!DOCTYPE html>
<html LANG="ko">

<body class="intro">

<div id="entrcView_page">
    <div class="detailView">
        <p class="openImage"><span onclick="toggleDetailView();">열림</span></p>
        <div class="infoWrap">
            <!-- header -->
            <div class="infoHeader">
                <!-- 도로명아이콘 교체됩니다.  localIcon.png 지역번호판아이콘 , baseIcon 기초번호판 아이콘 -->
                <p class="title" onclick="toggleDetailView();"><span class="titleIcon"><img src="image/iconNumber.png" title="건물번호판"></span></p>
                <p class="location" onclick="getDetailLocation()"></p>
                <p class="photo"><span class="photoNum">0</span></p>
            </div>

            <!-- content -->
            <div class="infoContent">
                <div id="mask"></div>

				<input id="trgLocSn" type="hidden" value="" />
				<input id="trgSn" type="hidden" value=""/>
				<input id="sigCd" type="hidden" value="" />
				<input id="isUpdtGbn" type="hidden" value="" />
				<!-- 시설물 별로 확정 -->
                <input id="trgGbn" type="hidden" value="02"/>
                
                <!--건물번호판 위치 찾기용 -->
                <input id="emdCd" type="hidden"/>
                <input id="rnCd" type="hidden"/>
                <input id="buldSeCd" type="hidden"/>

                <div class="blueTitle">
                    <h2>상태</h2>
                </div>
                <div class="tableWrap">
                    <table class="dataTable" summary="상태">
                        <caption>상태</caption>
                        <colgroup>
                            <col class="cell20">
                            <col class="cell30">
                            <col class="cell20">
                            <col class="cell30">
                        </colgroup>
                        <tbody>
                            <tr>
                                <th scope="row">설치상태</th>
                                <td colspan="3">
                                    <p id="delStateCdLbl" name="oldLbl" >&nbsp;</p>
                                    <p id="delStateCd" style="display:none;"></p>
                                    <p id="delStateCdLbl_new" name="newLbl" style="display:none; color:red"></p>
                                    <p id="delStateCd_new" style="display:none"></p>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <!-- 배정 -->
				<div class="blueTitle">
					<h2>배정정보</h2>
				</div>
				<div class="tableWrap">
					<table class="dataTable" summary="베정정보">
						<caption>배정정보</caption>
						<colgroup>
							<col class="cell20">
							<col class="cell30">
							<col class="cell20">
							<col class="cell30">
						</colgroup>
						<tbody>
							<tr>
								<th scope="row">배정여부</th>
								<td>
									<p id="plnOdrLbl" name="oldRcLbl" >&nbsp;</p>
									<input id="plnYr" type="hidden" value="" />
									<input id="plnOdr" type="hidden" value=""/>
									<input id="mtchSn" type="hidden" value="" />
								</td>
								<th scope="row">배정자</th>
								<td>
									<p id="rcrNm" name="oldRcLbl" ></p>
									<p id="rcrSn" name="newRcLbl" style="display:none;"></p>
								</td>
							</tr>
						</tbody>
					</table>
				</div>


				<!--점검-->
				<div class="blueTitle">
					<h2>점검정보</h2>
				</div>
				<div class="tableWrap">
					<table class="dataTable" summary="점검정보">
						<caption>점검정보</caption>
						<colgroup>
							<col class="cell20">
							<col class="cell30">
							<col class="cell20">
							<col class="cell30">
						</colgroup>
						<tbody>
							<tr>
								<th scope="row">점검일자</th>
								<td>
									<p id="rcDeLbl_new" name="newRcLbl" style="display:none; color:red"></p>
									<p id="rcDe" name="oldRcLbl" ></p>
								</td>
								<th scope="row">점검자</th>
								<td>
									<p id="reRcrNm" name="oldRcLbl" ></p>
									<p id="rcrNm_new" name="newRcLbl" style="display:none; color:red"></p>
									<p id="rcrSn_new" name="newRcLbl" style="display:none;"></p>
								</td>
							</tr>
							<tr>
								<th scope="row">점검상태</th>
								<td id='rcSttCdTd'>
									<p id="rcSttCdOld" style="display:none;"></p>
									<p id="rcSttCd_new" name="newRcLbl" style="display:none"></p>
									<select id='rcSttCdSel' class="cell100" onchange="checkRcSttCd()"/>
								</td>
								<td colspan="2">
									<div id="researchtNotice" class = "redText">
										<span>※ 철거인 경우 [망실]로 점검해 주세요.</span>
									</div>
								</td>
							</tr>
							<tr>
								<th scope="row">점검결과</th>
								<td colspan='3'>
									<textarea id="rcRslt" oninput="checkRcRslt()" placeholder="점검결과를 입력하세요."></textarea>
									<p id="rcRsltOld" name="oldLbl" style="display:none"></p>
                           			<!-- <p id="rcRslt_new" name="newLbl" style="display:none; color:red"></p> -->
								</td>
							</tr>
						</tbody>
					</table>
				</div>
				<button id="submitRcBnt" class="ui-btn ui-corner-all ui-shadow ui-btn-icon-left ui-icon-check btnPossible" onclick="submitResearch()">점검</button>
				<!--점검 end-->
                <!-- 정보  -->
                <div id="rcrNotice" class = "redNotice">
                    <span>※ 다른사람에게 배정된 시설물은 점검이 불가합니다.</span>
                </div>
                <div id="updtNotice" class = "redNotice">
                    <span>※ 빨간색 항목은 승인 대기 중인 데이터 입니다.</span>
                </div>
                <div class="blueTitle">
                    <h2>일련번호</h2>
                </div>
                <div class="tableWrap">
                    <table class="dataTable" summary="내용">
                        <caption>일련번호</caption>
                        <colgroup>
                            <col class="cell20">
                            <col class="cell30">
                            <col class="cell20">
                            <col class="cell30">
                        </colgroup>
                        <tbody>
                            <tr>
                                <th scope="row">건물번호판</th>
                                <td>
                                    <p id="bulNmtNoLbl">&nbsp;</p>
                                </td>
                                <th class="bulLbl" scope="row" style="display: none">건물</th>
                                <th class="eqbLbl" scope="row" style="display: none">건물군</th>
                                <td>
                                    <p class ="bulLbl" id="bulManNoLbl" style="display: none">&nbsp;</p>
                                    <p class ="eqbLbl" id="eqbManSnLbl" style="display: none">&nbsp;</p>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="blueTitle">
                    <h2>관련정보</h2>
                </div>
                <div class="tableWrap">
                    <table class="dataTable" summary="관련정보">
                        <caption>관련정보</caption>
                        <colgroup>
                            <col class="cell20">
                            <col class="cell30">
                            <col class="cell20">
                            <col class="cell30">
                        </colgroup>
                        <tbody>
                            <tr>
                                <th scope="row">도로명</th>
                                <td>
                                    <p id="rnCdLbl">&nbsp;</p>
                                </td>
                                <th scope="row">건물번호</th>
                                <td>
                                    <span id="buldMnnm"></span>
                                    <span>-</span>
                                    <span id="buldSlno"></span>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="blueTitle">
                    <h2>설치정보</h2>
                </div>
                <div class="tableWrap">
                    <table class="dataTable" summary="설치정보">
                        <caption>설치정보</caption>
                        <colgroup>
                            <col class="cell20">
                            <col class="cell30">
                            <col class="cell20">
                            <col class="cell30">
                        </colgroup>
                        <tbody>
                            <tr>
                                <th scope="row">설치일자</th>
                                <td>
                                    <p id="instDate"></p>
                                </td>
                                <th scope="row">유형</th>
                                <td>
                                    <select id="buldNmtSe" class="cell100" onchange="checkChangeOrigin(this.id)"/>
                                </td>
                            </tr>
                            <tr>
                                <th scope="row">제작유형</th>
                                <td>
                                    <select id="buldMnfCd" class="cell100" onchange="changeMnf(this.id)"/>
                                </td>
                                <th scope="row">조명여부</th>
                                <td>
                                    <select id="lghtCd" class="cell100" onchange="checkChangeOrigin(this.id)"/>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="blueTitle">
                    <h2>세부입력정보</h2>
                </div>
                <div class="tableWrap">
                    <table class="dataTable" summary="세부입력정보">
                        <caption>세부입력정보</caption>
                        <colgroup>
                            <col class="cell20">
                            <col class="cell30">
                            <col class="cell20">
                            <col class="cell30">
                        </colgroup>
                        <tbody>
                            <tr>
                                <th scope="row">형태</th>
                                <td>
                                    <select id="buldNmtType" class="cell100" disabled="disabled" onchange="changeBuldNmtPurpose(this.id);"/>
                                    <!-- <p id="buldNmtTypeLbl"></p> -->
                                </td>
                                <th scope="row">용도</th>
                                <td>
                                    <select id="buldNmtPurpose" class="cell100 notNull" onchange="changeBuldNmtCd(this.id);"/>
                                </td>
                            </tr>
                            <tr>
                                <th scope="row">표면처리방법</th>
								<td>
									<select id="prtTy" class="cell100 notNull" onchange="checkChangeOrigin(this.id)"/>
								</td>
                                <th scope="row">재질</th>
                                <td>
                                    <select id="buldNmtMaterial" class="cell100 notNull" onchange="checkChangeOrigin(this.id)"/>
                                    <input type = "hidden" id="buldNmtMaterial_new">
                                </td>
                            </tr>
                            <tr>
                                <th scope="row">규격</th>
                                <td>
                                    <select id="buldNmtCd" class="cell100" onchange="setGdfyWide(this.id)"/>
                                </td>
                                <th scope="row">단가(원)</th>
                                <td >
                                    <!-- <input type='number' class="cell70" id="buldNmtUnitPrice" readonly = "readonly" onclick="openInputPop(this.id)" onchange="checkUnitPrice(this.id)" oninput="firstTextZero(this.id)"> -->
									<span id="buldNmtUnitPrice"></span><span>원</span>
                                </td>
                            </tr>
                            <tr>
                                <th scope="row">가로세로두께</th>
                                <td colspan="3">
                                    <input type='number' class="cell10" id="buldNmtWide" readonly = "readonly" onclick="openInputPop(this.id)" onchange="txtMaxlength(this.id,'5','0')" oninput="firstTextZero(this.id)"/>
                                    <span>mm *</span>
                                    <input type='number' class="cell10" id="buldNmtVertical" readonly = "readonly" onclick="openInputPop(this.id)" onchange="txtMaxlength(this.id,'5','0')" oninput="firstTextZero(this.id)"/>
                                    <span>mm *</span>
                                    <input type='number' class="cell10" id="buldNmtThickness" readonly = "readonly" onclick="openInputPop(this.id)" onchange="txtMaxlength(this.id,'8','0')" oninput="firstTextZero(this.id)"/>
                                </td>
                            </tr>
                            <tr id="bulNmtFt">
                                <th scope="row">자율형 한글자 크기(가로)</th>
                                <td>
                                    <input type='number' class="cell30" id="bulNmtFtWi" readonly = "readonly" onclick="openInputPop(this.id)" onchange="txtMaxlength(this.id,'5','0')" oninput="firstTextZero(this.id)"/>
                                </td>
                                <th scope="row">자율형 한글자 크기(세로)</th>
                                <td >
                                    <input type='number' class="cell30" id="bulNmtFtVe" readonly = "readonly" onclick="openInputPop(this.id)" onchange="txtMaxlength(this.id,'5','0')" oninput="firstTextZero(this.id)"/>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <button id="modifyBtn" class="ui-btn ui-corner-all ui-shadow btnPossible" onclick="modify()">정비</button>
            </div>
            <!-- 정보 끝 -->
            <!-- footer 시작 -->
            <div class="infoFooter">
                <span onclick="closeDetailView();" class="btnNormal">닫기</span>
                <!-- <span onclick="loadUpdtData();" class="btnNormal">승인대기</span> -->
                <span id="delUpdtBtn" onclick="deleteUpdtData();" class="btnNormal">임시정보 삭제</span>
                <span onclick="goResearchList('myResearchSpbd');" class="btnNormal">점검목록</span>
                <span onclick="goPopBuild();" class="btnPoint">건물정보</span>
            </div>
            <!-- footer 끝 -->    
        </div>
        <!-- content 끝  -->
    </div>
</div>

<!-- 입력공통팝업 -->
<div id="inputPop" class="dataWrap" style="display: none">
    <input type="hidden" id="targetId"/>
    <div class="dataTItle">입력</div>
    <div class="dataForm">
        <div class="row">
            <div class="cell">
                <div class="inputText"><input type="number" id="fixedValue" value=""></div>
            </div>
        </div>
    </div>
    <div class="dataBtn">
        <!-- <span class="btnNormal dataPopCloser">닫기</span> -->
        <span id="comInputBtn" onclick="" class="btnPoint">확인</span>
    </div>
    <!-- <p class="dataClose dataPopCloser"><img src="image/dataClose.png" title="닫기"></p> -->
</div>
<div id="photoDialog" class="photoWrap" >
    <!-- 사진 style="display: none"-->
    <div id="" class="">
        <div class="photoTitle">사진
            <ul class="photoPage">
                <!--li><span class="pic_over">전면</span></li>
                <li><span class="pic">후면</span></li -->
            </ul>
        </div>
        <div class="photoTable">
            <div class="row">
                <div class="cell">
                    <div class="picInfo M" data-pic-type="M" data-pic-sn="">
                        <div class="photoSub">
                            <span>근거리</span>
                            <span id="cntMphoto" class="photoNum"></span>
                        </div>
                        <span class="picImg"></span>
                        <div class="dataBtn">
                            <!-- <span class="btnNormal">삭제</span> -->
                            <span class="btnPoint">촬영</span>
                        </div>
                    </div>
                </div>
                <div class="cell">
                    <div class="picInfo L" data-pic-type="L" data-pic-sn="">
                        <div class="photoSub">
                            <span>원거리</span>
                            <span id="cntLphoto" class="photoNum"></span>
                        </div>
                        <span class="picImg"></span>
                        <div class="dataBtn">
                            <!-- <span class="btnNormal">삭제</span> -->
                            <span class="btnPoint">촬영</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="photoNotice">
                <span>※ 근거리, 원거리 사진은 최근사진 1장씩만 조회</span>
                <br>
			    <span>※ 우측 상단 사진건수는 시스템에 저장된 전체건수 ('N'은 승인대기 상태의 사진 존재)</span>
                <br>
                <span>※ 기존 등록 된 사진을 조회 하시려면 [승인대기] 또는 [원본] 버튼을 클릭하세요.</span>
            </div>
        </div>
        <div class="infoFooter">
            <span id="updtPhotoBtn" onclick="loadUpdtData('true');" class="btnNormal">승인대기</span>
		    <span id="orginPhotoBtn" onclick="selectOldImg();" class="btnNormal">원본</span>
            <span onclick="closePhotoView();" class="btnNormal">닫기</span>
            <span onclick="modifyImg(DATA_TYPE.RDPQ);" class="btnPoint">저장</span>
        </div>
</div>
<!-- 사진 끝-->
</body>
</html>